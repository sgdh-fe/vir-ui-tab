{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import Vir from 'vir'\nimport $ from 'jquery'\n\nexport default function (options = {}) {\n  let {\n    index = 0,\n      eventType = 'click',\n      navSelector = 'ol > li',\n      containerSelector = 'ul > li',\n      navCurrentClass = 'cur',\n      containerCurrentClass = 'cur'\n  } = options\n\n  return Vir({\n    data: {\n      index: index,\n      lock: false\n    },\n    events: function () {\n      if (eventType == 'click') {\n        return {\n          ['click->' + navSelector]: 'clickHandler'\n        }\n      }\n      if (eventType == 'mouseover') {\n        return {\n          ['mouseenter->' + navSelector]: 'enterHandler',\n          ['mouseleave->' + navSelector]: 'leaveHandler'\n        }\n      }\n    }(),\n    validate: {\n      index() {\n        if (this.get('lock')) {\n          return false\n        }\n      }\n    },\n    watch: {\n      index(result) {\n        let old = result.old\n        let index = result.value\n        this.$$(navSelector).eq(old).removeClass(navCurrentClass)\n        this.$$(containerSelector).eq(old).removeClass(containerCurrentClass)\n        this.$$(navSelector).eq(index).addClass(navCurrentClass)\n        this.$$(containerSelector).eq(index).addClass(containerCurrentClass)\n      }\n    },\n    methods: {\n      clickHandler(event) {\n        event.preventDefault()\n        let $this = $(event.currentTarget)\n        this.set('index', $this.attr('data-index') || $this.index())\n      },\n      enterHandler(event) {\n        let $this = $(event.currentTarget)\n        this.set('timeout', setTimeout(() => {\n          this.set('index', $this.attr('data-index') || $this.index())\n        }, 200))\n      },\n      leaveHandler() {\n        clearTimeout(this.get('timeout'))\n      }\n    },\n    init() {\n      this.set('index', index)\n    }\n  })\n}"],"names":["options","index","eventType","navSelector","containerSelector","navCurrentClass","containerCurrentClass","Vir","get","result","old","value","$$","eq","removeClass","addClass","event","preventDefault","$this","$","currentTarget","set","attr","setTimeout"],"mappings":";;;;;;;;;;;;;;;;AAGA,YAAe,YAAwB;MAAdA,OAAc,uEAAJ,EAAI;uBAQjCA,OARiC,CAEnCC,KAFmC;MAEnCA,KAFmC,kCAE3B,CAF2B;2BAQjCD,OARiC,CAGjCE,SAHiC;MAGjCA,SAHiC,sCAGrB,OAHqB;6BAQjCF,OARiC,CAIjCG,WAJiC;MAIjCA,WAJiC,wCAInB,SAJmB;8BAQjCH,OARiC,CAKjCI,iBALiC;MAKjCA,iBALiC,yCAKb,SALa;8BAQjCJ,OARiC,CAMjCK,eANiC;MAMjCA,eANiC,yCAMf,KANe;8BAQjCL,OARiC,CAOjCM,qBAPiC;MAOjCA,qBAPiC,yCAOT,KAPS;;;SAU9BC,IAAI;UACH;aACGN,KADH;YAEE;KAHC;YAKD,YAAY;UACdC,aAAa,OAAjB,EAA0B;;;+BAErB,YAAYC,WADf,IAC6B,cAD7B;;UAIED,aAAa,WAAjB,EAA8B;;;iCAEzB,iBAAiBC,WADpB,IACkC,cADlC,QAEG,iBAAiBA,WAFpB,IAEkC,cAFlC;;KAPI,EALC;cAkBC;WAAA,mBACA;YACF,KAAKK,GAAL,CAAS,MAAT,CAAJ,EAAsB;iBACb,KAAP;;;KArBG;WAyBF;WAAA,iBACCC,MADD,EACS;YACRC,MAAMD,OAAOC,GAAjB;YACIT,QAAQQ,OAAOE,KAAnB;aACKC,EAAL,CAAQT,WAAR,EAAqBU,EAArB,CAAwBH,GAAxB,EAA6BI,WAA7B,CAAyCT,eAAzC;aACKO,EAAL,CAAQR,iBAAR,EAA2BS,EAA3B,CAA8BH,GAA9B,EAAmCI,WAAnC,CAA+CR,qBAA/C;aACKM,EAAL,CAAQT,WAAR,EAAqBU,EAArB,CAAwBZ,KAAxB,EAA+Bc,QAA/B,CAAwCV,eAAxC;aACKO,EAAL,CAAQR,iBAAR,EAA2BS,EAA3B,CAA8BZ,KAA9B,EAAqCc,QAArC,CAA8CT,qBAA9C;;KAhCK;aAmCA;kBAAA,wBACMU,KADN,EACa;cACZC,cAAN;YACIC,QAAQC,EAAEH,MAAMI,aAAR,CAAZ;aACKC,GAAL,CAAS,OAAT,EAAkBH,MAAMI,IAAN,CAAW,YAAX,KAA4BJ,MAAMjB,KAAN,EAA9C;OAJK;kBAAA,wBAMMe,KANN,EAMa;;;YACdE,QAAQC,EAAEH,MAAMI,aAAR,CAAZ;aACKC,GAAL,CAAS,SAAT,EAAoBE,WAAW,YAAM;gBAC9BF,GAAL,CAAS,OAAT,EAAkBH,MAAMI,IAAN,CAAW,YAAX,KAA4BJ,MAAMjB,KAAN,EAA9C;SADkB,EAEjB,GAFiB,CAApB;OARK;kBAAA,0BAYQ;qBACA,KAAKO,GAAL,CAAS,SAAT,CAAb;;KAhDK;QAAA,kBAmDF;WACAa,GAAL,CAAS,OAAT,EAAkBpB,KAAlB;;GApDG,CAAP;;;;;"}